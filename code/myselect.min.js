let mySelect=(()=>{"use strict";class e{constructor(){}arrowIcon(e={}){let t=e.width||"20px",s=e.height||"20px",l=e.fill||"black";return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+s+'" viewBox="0 0 24 24"><path fill="'+l+'" d="m7 10l5 5l5-5z"/></svg>'}}class t extends e{constructor(){super(),this.customSelectElements=document.querySelectorAll(".c-select"),this.selectListContainerClass="c-select-list",this.selectListListItemsClass="c-select-list-item",this.randomClass=[],this.isSelectShow=!1,this.customStyle={}}initialize(e={}){this.customStyle=e,this.addPlaceHolder(),this.addListArrow(this.customStyle.arrow),this.addRandomClass(),this.addSelectList(),this.showOnClick()}updateSelect(e,t=[]){let s=document.getElementById(e),l=s.querySelector("select"),i=s.querySelector(".c-select-list"),r=s.getAttribute("containerClassId");s&&l&&i&&(i.innerHTML="",l.innerHTML="",t.length>0&&t.forEach(e=>{let t=this.customStyle.select||{};t.pContainer=r,t.selectValue=e,this.createNewElement("option",l,e),this.createNewElement("div",i,e,[this.selectListListItemsClass],t)}),this.addChoiceItems(this.validateElement("#"+e)))}addSelectList(){this.customSelectElements.length>0&&this.customSelectElements.forEach(e=>{let t=e.offsetWidth,s=e.getAttribute("containerClassId"),l=e.querySelector("select");if(l){let i=e.querySelectorAll("select option");if(i.length>0){this.createNewElement("div",e,"",[this.selectListContainerClass],{style:"width:"+t+"px"});let r=e.querySelector("."+this.selectListContainerClass);i.forEach(e=>{let t=this.customStyle.select||{},l=Object.assign(t,{pContainer:s,selectValue:e.value});this.createNewElement("div",r,e.value,[this.selectListListItemsClass],l)})}}})}addChoiceItems(e){if(this.customSelectElements.length>0){let t=e.querySelectorAll("."+this.selectListListItemsClass),s=e=>{let t=e.target.getAttribute("pContainer"),s=e.target.getAttribute("selectValue"),l=document.querySelector("."+t);this.updatePlaceholder(l,s);let i=l.querySelector("select");i.value=s};t.length>0&&t.forEach(e=>{e.addEventListener("click",s)})}}updatePlaceholder(e,t){let s=this.validateElement(e);s.setAttribute("placeholder",t);let l=s.querySelector(".placeholder"),i=this.customStyle.onselect||{};""!==t.trim()&&(l.innerHTML="",this.createNewElement("div",l,t,[],i))}showOnClick(){this.customSelectElements.length>0&&this.customSelectElements.forEach(e=>{let t=e.querySelector("."+this.selectListContainerClass);t&&(e.addEventListener("click",s=>{if(this.hideAllSelectionList(),(s.target===e||s.target.matches("svg")||s.target.matches("path")||s.target.matches(".placeholder")||s.target.matches(".arrow-down"))&&s.stopPropagation(),this.isSelectShow!==e.getAttribute("containerClassId")){t.style.display="block",this.isSelectShow=e.getAttribute("containerClassId");let l=e.querySelector(".arrow-down");this.rotateArrow(l),document.addEventListener("click",()=>{this.hideAllSelectionList()})}else this.isSelectShow="nothing",this.hideAllSelectionList()}),this.addChoiceItems(e))})}rotateArrow(e,t="deg"){let s=this.validateElement(e);"deg"===t?s.classList.add("arrow-rotate"):s.classList.remove("arrow-rotate")}hideAllSelectionList(){this.customSelectElements.length>0&&this.customSelectElements.forEach(e=>{let t=e.querySelectorAll("."+this.selectListContainerClass),s=e.querySelectorAll(".arrow-down");t.length>0&&t.forEach(e=>{e.style.display="none"}),s.forEach(e=>{this.rotateArrow(e,"normal")})})}addRandomClass(){this.customSelectElements.length>0&&this.customSelectElements.forEach(e=>{let t=parseInt(this.randomClass.length)+1,s="cSelect-"+t;e.classList.add(s),e.setAttribute("containerClassId",s),this.randomClass.push(s)})}addPlaceHolder(){this.customSelectElements.length>0&&this.customSelectElements.forEach(e=>{let t=e.getAttribute("placeholder"),s=this.customStyle.placeholder||{};this.createNewElement("div",e,t,["placeholder"],s)})}addListArrow(e){let t=e||{};this.customSelectElements.length>0&&this.customSelectElements.forEach(e=>{this.createNewElement("div",e,this.arrowIcon(t),["arrow-down"],t)})}createNewElement(e,t,s,l=[],i={}){let r=document.createElement(e);l.length>0&&l.forEach(e=>{r.classList.add(e)}),r.innerHTML=s;let c=Object.keys(i);c.forEach(e=>{r.setAttribute(e,i[e])});let a=this.validateElement(t);a.appendChild(r)}validateElement(e){if("string"==typeof e){let t=document.querySelector(e);return t}if(!Array.isArray(e))return e;{let s=[];for(let l=0;l<e.length;l++)if("object"==typeof e[l])s.push(e[l]);else{let i=document.querySelector(e[l]);s.push(i)}return s}}}return document.addEventListener("DOMContentLoaded",()=>{}),t})();
